<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Трекер отказа от курения — 100 дней</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');

    body {
        font-family: 'Roboto', sans-serif;
        background: linear-gradient(135deg, #fffde7, #dcedc8);
        padding: 20px;
        margin: 0;
        color: #000;
        position: relative;
        overflow: hidden;
    }

    /* Абстрактные фигурки на фоне */
    .background-shape {
        position: absolute;
        border: 1px solid rgba(0,0,0,0.05);
        opacity: 0.3;
        z-index: 0;
        pointer-events: none;
    }

    h1 {
        text-align: center;
        margin-bottom: 20px;
        position: relative;
        z-index: 1;
    }

    .tracker-grid {
        display: grid;
        grid-template-columns: repeat(10, 1fr);
        grid-gap: 10px;
        max-width: 1200px;
        margin: 0 auto;
        position: relative;
        z-index: 1;
    }

    .day-box {
        border: 2px solid #4caf50;
        border-radius: 8px;
        height: 60px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: bold;
        font-size: 1.2em;
        background-color: rgba(255,255,255,0.7);
        cursor: pointer;
        transition: background-color 0.3s, transform 0.2s;
    }

    .day-box:hover {
        transform: scale(1.05);
        background-color: rgba(0,0,0,0.05);
    }

    .day-box.checked {
        background-color: #4caf50;
        color: #fff;
        text-decoration: line-through;
    }

    @media print {
        body {
            background: none;
        }
        .day-box {
            background-color: #fff !important;
            color: #000 !important;
            border: 1px solid #000;
        }
    }

</style>
</head>
<body>

<h1>Трекер отказа от курения — 100 дней</h1>

<div class="tracker-grid" id="tracker">
    <!-- Дни будут созданы скриптом -->
</div>

<script>
    const tracker = document.getElementById('tracker');
    const totalDays = 100;

    // Загрузка сохранённых дней
    let checkedDays = JSON.parse(localStorage.getItem('checkedDays')) || [];

    for (let i = 1; i <= totalDays; i++) {
        const dayBox = document.createElement('div');
        dayBox.classList.add('day-box');
        dayBox.textContent = i;

        if (checkedDays.includes(i)) {
            dayBox.classList.add('checked');
        }

        dayBox.addEventListener('click', () => {
            dayBox.classList.toggle('checked');
            if (dayBox.classList.contains('checked')) {
                if (!checkedDays.includes(i)) checkedDays.push(i);
            } else {
                checkedDays = checkedDays.filter(day => day !== i);
            }
            localStorage.setItem('checkedDays', JSON.stringify(checkedDays));
        });

        tracker.appendChild(dayBox);
    }

    // Генерация абстрактных фигурок на фоне
    const shapesCount = 50;
    const colors = ["rgba(0,0,0,0.05)", "rgba(0,0,0,0.07)", "rgba(0,0,0,0.03)"];
    const bodyWidth = document.body.clientWidth;
    const bodyHeight = document.body.clientHeight;

    for (let i = 0; i < shapesCount; i++) {
        const shape = document.createElement('div');
        shape.classList.add('background-shape');

        const size = 20 + Math.random() * 30;
        shape.style.width = `${size}px`;
        shape.style.height = `${size}px`;

        // Случайная форма: круг, квадрат, треугольник
        const type = Math.floor(Math.random() * 4);
        switch(type) {
            case 0: // круг
                shape.style.borderRadius = '50%';
                break;
            case 1: // квадрат
                shape.style.borderRadius = '4px';
                break;
            case 2: // ромб
                shape.style.transform = 'rotate(45deg)';
                break;
            case 3: // треугольник через clip-path
                shape.style.width = '0';
                shape.style.height = '0';
                shape.style.borderLeft = `${size/2}px solid transparent`;
                shape.style.borderRight = `${size/2}px solid transparent`;
                shape.style.borderBottom = `${size}px solid rgba(0,0,0,0.05)`;
                shape.style.borderTop = '0';
                shape.style.borderRadius = '0';
                break;
        }

        shape.style.left = Math.random() * (window.innerWidth - size) + 'px';
        shape.style.top = Math.random() * (window.innerHeight - size) + 'px';
        shape.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];

        document.body.appendChild(shape);
    }

</script>

</body>
</html>
